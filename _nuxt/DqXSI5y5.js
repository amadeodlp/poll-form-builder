import{_ as M}from"./CbRQiVWx.js";import{c as s,o as a,a as t,g as _,m,d as v,t as o,F as p,r as w,n as q,j as D,l as k,I as F,w as u,b as c,J as j,k as b,_ as N}from"./-P2loxI4.js";import{_ as R}from"./Sijqtujb.js";import{r as T}from"./C7A-tM82.js";function U(e,y){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}const z={class:"space-y-2"},A={key:0,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Z={key:0,class:"text-red-500"},G={class:"space-y-2"},I=["id","name","value","checked","required","disabled","onChange"],L=["for"],O={key:1,class:"text-sm text-red-500 mt-1"},P={key:2,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},E=_({__name:"RadioGroup",props:{modelValue:{type:String,default:""},id:{type:String,default:()=>`radio-${Math.random().toString(36).substring(2,9)}`},name:{type:String,default:()=>`radio-group-${Math.random().toString(36).substring(2,9)}`},label:{type:String,default:""},options:{type:Array,default:()=>[]},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hint:{type:String,default:""},errorMessage:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(y,g)=>(a(),s("div",z,[e.label?(a(),s("label",A,[v(o(e.label)+" ",1),e.required?(a(),s("span",Z,"*")):m("",!0)])):m("",!0),t("div",G,[(a(!0),s(p,null,w(e.options,(r,n)=>(a(),s("div",{key:n,class:"flex items-center"},[t("input",{id:`${e.id}-${n}`,type:"radio",name:e.name,value:r.value||r,checked:(r.value||r)===e.modelValue,required:e.required,disabled:e.disabled,onChange:f=>y.$emit("update:modelValue",r.value||r),class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 dark:bg-gray-800"},null,40,I),t("label",{for:`${e.id}-${n}`,class:"ml-3 block text-sm text-gray-700 dark:text-gray-300"},o(r.label||r),9,L)]))),128))]),e.errorMessage?(a(),s("p",O,o(e.errorMessage),1)):e.hint?(a(),s("p",P,o(e.hint),1)):m("",!0)]))}}),J={class:"flex justify-between items-start"},H={class:"font-semibold text-lg text-gray-900 dark:text-gray-100"},K={class:"flex space-x-2"},Q={class:"flex-1"},W={key:0,class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},X={key:1,class:"space-y-3"},Y={class:"mt-4"},ee={key:2,class:"space-y-4"},te={class:"flex justify-between text-sm"},ae={class:"font-medium"},se={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},le={class:"text-xs text-gray-500 dark:text-gray-400"},oe={class:"text-sm text-gray-500 dark:text-gray-400 pt-2"},re={class:"text-xs text-gray-500 dark:text-gray-400"},ce=_({__name:"PollCard",props:{poll:{type:Object,required:!0},showVoteForm:{type:Boolean,default:!0},showResults:{type:Boolean,default:!1},showTimestamp:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!1}},emits:["vote","delete"],setup(e,{emit:y}){const g=e,r=y,n=q(""),f=D(()=>g.poll.options.reduce((d,i)=>d+i.votes,0));function x(d){return f.value===0?0:Math.round(d/f.value*100)}function $(){n.value&&(r("vote",n.value),n.value="")}function V(d){return typeof d=="string"&&(d=new Date(d)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(d)}return(d,i)=>{const h=M,C=N,S=E,B=R;return a(),k(B,{class:"h-full flex flex-col"},F({header:u(()=>[t("div",J,[t("h3",H,o(e.poll.question),1),t("div",K,[c(C,{to:`/polls/${e.poll.id}/results`},{default:u(()=>[c(h,{variant:"ghost",size:"sm"},{default:u(()=>[c(b(U),{class:"h-4 w-4 mr-1"}),i[2]||(i[2]=v(" Results "))]),_:1})]),_:1},8,["to"]),e.showDelete?(a(),k(h,{key:0,variant:"ghost",size:"sm",onClick:i[0]||(i[0]=l=>d.$emit("delete"))},{default:u(()=>[c(b(T),{class:"h-4 w-4 text-red-500"})]),_:1})):m("",!0)])])]),default:u(()=>[t("div",Q,[e.showVoteForm?(a(),s("p",W," Select an option and vote. ")):m("",!0),e.showVoteForm?(a(),s("div",X,[c(S,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=l=>n.value=l),options:e.poll.options.map(l=>({label:l.text,value:l.id})),required:!0},null,8,["modelValue","options"]),t("div",Y,[c(h,{variant:"primary",disabled:!n.value,onClick:$},{default:u(()=>i[3]||(i[3]=[v(" Vote ")])),_:1},8,["disabled"])])])):e.showResults?(a(),s("div",ee,[(a(!0),s(p,null,w(e.poll.options,l=>(a(),s("div",{key:l.id,class:"space-y-1"},[t("div",te,[t("span",null,o(l.text),1),t("span",ae,o(x(l.votes))+"%",1)]),t("div",se,[t("div",{class:"bg-primary-600 h-2.5 rounded-full",style:j({width:`${x(l.votes)}%`})},null,4)]),t("div",le,o(l.votes)+" "+o(l.votes===1?"vote":"votes"),1)]))),128)),t("p",oe," Total votes: "+o(f.value),1)])):m("",!0)])]),_:2},[e.showTimestamp?{name:"footer",fn:u(()=>[t("div",re," Created "+o(V(e.poll.createdAt)),1)]),key:"0"}:void 0]),1024)}}});export{ce as _,U as r};
