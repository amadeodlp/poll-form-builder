import{g as P,H as B,C,j as i,c as x,o as f,a as e,b as o,w as s,_ as b,k as _,t as u,d}from"./-P2loxI4.js";import{_ as D}from"./DqXSI5y5.js";import{_ as V}from"./CbRQiVWx.js";import{_ as N}from"./Sijqtujb.js";import{u as S}from"./uk2bAjzX.js";import{r as $}from"./4uSYv-KY.js";import{r as I}from"./C7A-tM82.js";import"./DlAUqK2U.js";const R={key:0,class:"space-y-6"},T={class:"flex items-center mb-6"},U={class:"max-w-2xl mx-auto"},j={class:"mt-8"},A={class:"space-y-4"},q={class:"mt-1 text-lg text-gray-900 dark:text-gray-100"},E={class:"mt-1 text-lg text-gray-900 dark:text-gray-100"},F={class:"mt-1 text-gray-900 dark:text-gray-100"},H={class:"flex justify-between"},L={key:1,class:"text-center p-12"},Y=P({__name:"results",setup(Q){const c=B(),y=C(),m=S(),p=i(()=>c.params.id),l=i(()=>m.getPollById(p.value)),g=i(()=>l.value?l.value.options.reduce((a,t)=>a+t.votes,0):0);function v(){l.value&&confirm("Are you sure you want to delete this poll?")&&(m.deletePoll(p.value),y.push("/polls"))}function k(a){return typeof a=="string"&&(a=new Date(a)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}return(a,t)=>{const r=b,h=D,n=V,w=N;return l.value?(f(),x("div",R,[e("div",T,[o(r,{to:"/polls",class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 mr-2"},{default:s(()=>[o(_($),{class:"h-5 w-5"})]),_:1}),t[0]||(t[0]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Poll Results",-1))]),e("div",U,[o(h,{poll:l.value,"show-vote-form":!1,"show-results":!0},null,8,["poll"]),e("div",j,[o(w,null,{header:s(()=>t[1]||(t[1]=[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Poll Details",-1)])),footer:s(()=>[e("div",H,[o(r,{to:`/polls/${l.value.id}`},{default:s(()=>[o(n,{variant:"outline"},{default:s(()=>t[5]||(t[5]=[d(" Back to Poll ")])),_:1})]),_:1},8,["to"]),o(n,{variant:"danger",onClick:v},{default:s(()=>[o(_(I),{class:"h-5 w-5 mr-1"}),t[6]||(t[6]=d(" Delete Poll "))]),_:1})])]),default:s(()=>[e("div",A,[e("div",null,[t[2]||(t[2]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Question",-1)),e("p",q,u(l.value.question),1)]),e("div",null,[t[3]||(t[3]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Votes",-1)),e("p",E,u(g.value),1)]),e("div",null,[t[4]||(t[4]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Created",-1)),e("p",F,u(k(l.value.createdAt)),1)])])]),_:1})])])])):(f(),x("div",L,[t[8]||(t[8]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Poll not found",-1)),o(r,{to:"/polls",class:"mt-4 inline-block"},{default:s(()=>[o(n,{variant:"primary"},{default:s(()=>t[7]||(t[7]=[d("Back to Polls")])),_:1})]),_:1})]))}}});export{Y as default};
