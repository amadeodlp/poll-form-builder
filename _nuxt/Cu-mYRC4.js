import{c as l,o as s,a as t,b as p,w as m,j as w,n as U,_ as D,q as B,D as C,s as S,v as A,F as k,r as V,l as h,m as g,d as I,t as c,x as L,E as N}from"./-P2loxI4.js";import{_ as R}from"./DvvqGPS5.js";import{_ as j}from"./Dl2YDCVh.js";import{_ as E}from"./Sijqtujb.js";import{u as T}from"./Dv_zkzqH.js";import{_ as M}from"./DlAUqK2U.js";import{r as Y}from"./4uSYv-KY.js";const O={setup(){const v=C(),o=B(),_=T(),r=w(()=>v.params.id),u=w(()=>_.getFormById(r.value)),n=U({});function y(){if(!u.value)return!1;const d=u.value.questions.filter(e=>e.required);for(const e of d){const a=n.value[e.id];if(a===void 0||a==="")return alert(`Please answer the question: ${e.text}`),!1}return!0}function f(){if(!y())return;const d=Object.entries(n.value).map(([e,a])=>({questionId:e,answer:a}));_.submitFormResponse(r.value,d),alert("Form submitted successfully!"),i(),o.push(`/forms/${r.value}/responses`)}function i(){n.value={}}function x(d){return typeof d=="string"&&(d=new Date(d)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(d)}return{form:u,answers:n,submitForm:f,reset:i,formatDate:x}},components:{ArrowLeftIcon:Y}},P={key:0,class:"space-y-8"},Q={class:"flex items-center mb-6"},z={class:"max-w-3xl mx-auto"},G={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},H={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},J={class:"space-y-6"},K={class:"mb-3"},W=["for"],X={key:0,class:"text-red-500 ml-1"},Z={key:3,class:"space-y-2"},$=["id","name","value","onUpdate:modelValue","required"],q=["for"],ee={class:"flex justify-end space-x-3 pt-4"},re={class:"text-xs text-gray-500 dark:text-gray-400"},te={key:1,class:"text-center p-12"};function oe(v,o,_,r,u,n){const y=S("ArrowLeftIcon"),f=D,i=R,x=j,d=E;return r.form?(s(),l("div",P,[t("div",Q,[p(f,{to:"/forms",class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 mr-2"},{default:m(()=>[p(y,{class:"h-5 w-5"})]),_:1}),o[2]||(o[2]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Form",-1))]),t("div",z,[p(d,null,{header:m(()=>[t("div",null,[t("h2",G,c(r.form.title),1),r.form.description?(s(),l("p",H,c(r.form.description),1)):g("",!0)])]),footer:m(()=>[t("div",re," Created "+c(r.formatDate(r.form.createdAt)),1)]),default:m(()=>[t("form",{onSubmit:o[1]||(o[1]=A((...e)=>r.submitForm&&r.submitForm(...e),["prevent"])),class:"space-y-8"},[t("div",J,[(s(!0),l(k,null,V(r.form.questions,e=>(s(),l("div",{key:e.id,class:"p-4 bg-white dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 shadow-sm"},[t("div",K,[t("label",{for:e.id,class:"block text-base font-medium text-gray-900 dark:text-gray-100"},[I(c(e.text)+" ",1),e.required?(s(),l("span",X,"*")):g("",!0)],8,W)]),e.type==="short"?(s(),h(i,{key:0,id:e.id,modelValue:r.answers[e.id],"onUpdate:modelValue":a=>r.answers[e.id]=a,placeholder:e.placeholder||"Your answer",required:e.required},null,8,["id","modelValue","onUpdate:modelValue","placeholder","required"])):e.type==="long"?(s(),h(x,{key:1,id:e.id,modelValue:r.answers[e.id],"onUpdate:modelValue":a=>r.answers[e.id]=a,placeholder:e.placeholder||"Your answer",required:e.required,rows:4},null,8,["id","modelValue","onUpdate:modelValue","placeholder","required"])):e.type==="number"?(s(),h(i,{key:2,id:e.id,modelValue:r.answers[e.id],"onUpdate:modelValue":a=>r.answers[e.id]=a,type:"number",placeholder:e.placeholder||"Enter a number",required:e.required},null,8,["id","modelValue","onUpdate:modelValue","placeholder","required"])):e.type==="radio"?(s(),l("div",Z,[(s(!0),l(k,null,V(e.options,(a,b)=>(s(),l("div",{key:b,class:"flex items-center"},[L(t("input",{type:"radio",id:`${e.id}-${b}`,name:`question-${e.id}`,value:a,"onUpdate:modelValue":F=>r.answers[e.id]=F,required:e.required,class:"mr-2 h-4 w-4"},null,8,$),[[N,r.answers[e.id]]]),t("label",{for:`${e.id}-${b}`},c(a),9,q)]))),128))])):g("",!0)]))),128))]),t("div",ee,[t("button",{type:"button",class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md",onClick:o[0]||(o[0]=(...e)=>r.reset&&r.reset(...e))}," Reset "),o[3]||(o[3]=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Submit ",-1))])],32)]),_:1})])])):(s(),l("div",te,[o[5]||(o[5]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Form not found",-1)),p(f,{to:"/forms",class:"mt-4 inline-block"},{default:m(()=>o[4]||(o[4]=[t("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Back to Forms ",-1)])),_:1})]))}const ce=M(O,[["render",oe]]);export{ce as default};
