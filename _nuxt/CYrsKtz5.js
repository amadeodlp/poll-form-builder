import{c as i,a as r,b as p,w as g,n as x,p as F,_ as N,q as A,s as Q,o as s,v as S,m as c,F as V,r as w,t as O,l as C,x as U,y as E,z as L}from"./-P2loxI4.js";import{_ as M}from"./DvvqGPS5.js";import{_ as T}from"./Dl2YDCVh.js";import{_ as R}from"./Sijqtujb.js";import{u as B}from"./Dv_zkzqH.js";import{_ as j}from"./DlAUqK2U.js";import{r as D}from"./4uSYv-KY.js";const P={setup(){const _=A(),t=B(),m=x(""),a=x(""),d=x([]);function k(){d.value.push({id:Math.random().toString(36).substring(2,9),text:"",type:"short",required:!1,placeholder:"",options:[]})}function y(o){d.value.splice(o,1)}function b(o){o.options||(o.options=[]),o.options.push("")}function u(o,l){o.options.splice(l,1)}F(()=>d.value,o=>{o&&o.forEach(l=>{l.type==="radio"&&(l.placeholder="")})},{deep:!0});function h(){if(!m.value.trim())return alert("Form title is required"),!1;if(d.value.length===0)return alert("At least one question is required"),!1;for(const o of d.value){if(!o.text.trim())return alert("All questions must have text"),!1;if(o.type==="radio"){if(!o.options||o.options.length<2)return alert("Multiple choice questions must have at least 2 options"),!1;if(o.options.some(l=>!l.trim()))return alert("All options must have text"),!1}if(o.type==="number"&&o.placeholder&&isNaN(Number(o.placeholder)))return alert("Number questions must have numeric placeholders"),!1}return!0}function v(){if(!h())return;const o=d.value.map(({id:l,...n})=>(n.type==="radio"&&n.options&&(n.options=n.options.filter(f=>f.trim()!==""),n.placeholder=""),n.type==="number"&&n.placeholder&&(n.placeholder=Number(n.placeholder).toString()),n));t.createForm(m.value,a.value,o),e(),_.push("/forms")}function e(){m.value="",a.value="",d.value=[]}return{title:m,description:a,questions:d,addQuestion:k,removeQuestion:y,addOption:b,removeOption:u,createForm:v,reset:e}},components:{ArrowLeftIcon:D}},q={class:"space-y-6"},z={class:"flex items-center mb-6"},I={class:"space-y-4"},G={class:"flex items-center justify-between"},H={key:0,class:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-md"},J={class:"flex justify-between"},K=["onClick"],W={class:"mt-4 space-y-4"},X=["onUpdate:modelValue"],Y={class:"flex items-center"},Z=["id","onUpdate:modelValue"],$=["for"],ee={key:2,class:"space-y-3 border-t pt-3"},te=["onClick"],oe=["onClick"],re={class:"flex justify-end space-x-3 pt-4"};function le(_,t,m,a,d,k){const y=Q("ArrowLeftIcon"),b=N,u=M,h=T,v=R;return s(),i("div",q,[r("div",z,[p(b,{to:"/forms",class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 mr-2"},{default:g(()=>[p(y,{class:"h-5 w-5"})]),_:1}),t[5]||(t[5]=r("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Create a New Form",-1))]),p(v,null,{header:g(()=>t[6]||(t[6]=[r("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Create a new form",-1)])),default:g(()=>[r("form",{onSubmit:t[4]||(t[4]=S((...e)=>a.createForm&&a.createForm(...e),["prevent"])),class:"space-y-6"},[p(u,{modelValue:a.title,"onUpdate:modelValue":t[0]||(t[0]=e=>a.title=e),label:"Form Title",placeholder:"Enter a title for your form",required:""},null,8,["modelValue"]),p(h,{modelValue:a.description,"onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e),label:"Form Description (optional)",placeholder:"Provide a brief description",rows:3},null,8,["modelValue"]),r("div",I,[r("div",G,[t[7]||(t[7]=r("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Questions",-1)),r("button",{type:"button",class:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:t[2]||(t[2]=(...e)=>a.addQuestion&&a.addQuestion(...e))}," Add Question ")]),a.questions.length===0?(s(),i("div",H,t[8]||(t[8]=[r("p",{class:"text-gray-500"},"No questions added yet",-1)]))):c("",!0),(s(!0),i(V,null,w(a.questions,(e,o)=>(s(),i("div",{key:o,class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700"},[r("div",J,[r("h4",null,"Question "+O(o+1),1),r("button",{type:"button",class:"text-red-500",onClick:l=>a.removeQuestion(o)}," Remove ",8,K)]),r("div",W,[p(u,{modelValue:e.text,"onUpdate:modelValue":l=>e.text=l,label:"Question Text",placeholder:"Enter your question",required:""},null,8,["modelValue","onUpdate:modelValue"]),r("div",null,[t[10]||(t[10]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Question Type ",-1)),U(r("select",{"onUpdate:modelValue":l=>e.type=l,class:"w-full rounded-md border border-gray-300 dark:border-gray-600 py-2 px-3 bg-white dark:bg-gray-800"},t[9]||(t[9]=[r("option",{value:"short"},"Short Answer",-1),r("option",{value:"long"},"Long Answer",-1),r("option",{value:"number"},"Number",-1),r("option",{value:"radio"},"Multiple Choice",-1)]),8,X),[[E,e.type]])]),r("div",Y,[U(r("input",{type:"checkbox",id:"required-"+o,"onUpdate:modelValue":l=>e.required=l,class:"h-4 w-4"},null,8,Z),[[L,e.required]]),r("label",{for:"required-"+o,class:"ml-2"}," Required Question ",8,$)]),e.type==="short"||e.type==="long"?(s(),C(u,{key:0,modelValue:e.placeholder,"onUpdate:modelValue":l=>e.placeholder=l,label:"Placeholder (optional)",placeholder:"Enter text to show as a placeholder for this question"},null,8,["modelValue","onUpdate:modelValue"])):c("",!0),e.type==="number"?(s(),C(u,{key:1,modelValue:e.placeholder,"onUpdate:modelValue":l=>e.placeholder=l,label:"Placeholder (optional)",placeholder:"Enter a number as placeholder",type:"number"},null,8,["modelValue","onUpdate:modelValue"])):c("",!0),e.type==="radio"?(s(),i("div",ee,[t[11]||(t[11]=r("label",{class:"block font-medium"},"Answer Options",-1)),(s(!0),i(V,null,w(e.options,(l,n)=>(s(),i("div",{key:n,class:"flex space-x-2"},[p(u,{modelValue:e.options[n],"onUpdate:modelValue":f=>e.options[n]=f,placeholder:"Option text",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),e.options.length>2?(s(),i("button",{key:0,type:"button",class:"text-red-500",onClick:f=>a.removeOption(e,n)}," Remove ",8,te)):c("",!0)]))),128)),r("button",{type:"button",class:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700 rounded-md",onClick:l=>a.addOption(e)}," Add Option ",8,oe)])):c("",!0)])]))),128))]),r("div",re,[r("button",{type:"button",class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md",onClick:t[3]||(t[3]=(...e)=>a.reset&&a.reset(...e))}," Reset "),t[12]||(t[12]=r("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Create Form ",-1))])],32)]),_:1})])}const me=j(P,[["render",le]]);export{me as default};
